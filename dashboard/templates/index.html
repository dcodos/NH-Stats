<html>
    <head>
        <title>NH Stats</title>
    </head>
    <body>
      <table>
        <thead>
          <th></th>
          <th>Device Name</th>
          <th>Power Usage</th>
          <th>Temp</th>
          <th>Fan Speed</th>
        </thead>
        {% for device in devices %}
        <tr>
          <td>{{ device.device_id }}</td>
          <td>{{ device.name }}</td>
          <td>{{ device.gpu_power_usage }}</td>
          <td>{{ device.gpu_temp }}</td>
          <td>{{ device.gpu_fan_speed }}</td>
        </tr>
        {% endfor %}
      </table>

      <table>
        <thead>
          <th>Algorith Name</th>
          <th>Pool Address</th>
        </thead>
        {% for algo in algorithms %}
        <tr>
          <td>{{ algo.name }}</td>
          <td>
            <ul>
            {% for pool in algo.pools %}
              {% if pool.connected %}
                <li>{{ pool.address }}</li>
              {% endif %}
            {% endfor %}
            </ul>
          </td>
          <td>
            <table>
              <thead>
                <th>Device ID</th>
                <th>Speed</th>
              </thead>
              {% for worker in algo.workers %}
                <tr>
                  <td>{{ worker.worker_id }}</td>
                  <td>{{ worker.speed[0] }}
                    {% if worker.speed[1] != 0.0 %}
                      ({{ worker.speed[1] }})
                    {% endif %}
                  </td>
                </tr>
              {% endfor %}
            </table>
          </td>
        </tr>
        {% endfor %}
      </table>
    </body>
</html>
